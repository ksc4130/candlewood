function config(e,t,o){t.otherwise("/login"),e.state("login",{url:"/login",templateUrl:"/app/views/_login.html",controller:"loginCtrl",resolve:{tab:[function(){return 1}]}}).state("documents",{url:"/members/documents",templateUrl:"/app/views/_documents.html",controller:"documentsCtrl"}).state("admin",{url:"/admin",templateUrl:"/app/views/_admin.html",controller:"adminCtrl"}),o.html5Mode(!0)}var app=angular.module("cwl.core",["ui.router","ui.bootstrap","ngAside","angularFileUpload"]);app.run(["$rootScope",function(e){e.today=new Date}]),app.config(config),config.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],function(){"use strict";function e(e,t){function o(o){var n=t.defer();return e.post("/account/login",o).then(function(e){200===e.status?(r=e.data,n.resolve(e.data)):(console.log(e),n.reject(e))},function(e){n.reject(e),console.log(e)}),n.promise}function n(o){var n=t.defer();return e.post("/account/user",{user:o}).then(function(e){200===e.status?n.resolve(e.data):(console.log(e),n.reject(e))},function(e){n.reject(e),console.log(e)}),n.promise}var r;return{login:o,register:n,user:function(){return r?{firstName:r.firstName,lastName:r.lastName,email:r.email}:null}}}angular.module("cwl.core").factory("authSrv",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t){return{}}angular.module("cwl.core").factory("documentSrv",e),e.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t,o,n,r){t.user()||r.path("/login"),e.user=t.user(),e.uploader=new n({formData:[],url:"/fakeurl"}),e.newDoc={time:new Date},e.users=[{firstName:"Jane",lastName:"Doe",email:"jdoe@example.com",isActive:!0,isAdmin:!0},{firstName:"John",lastName:"Doe",email:"jdoe@yahoo.com",isActive:!1,isAdmin:!1}],e.types=[{type:"policies",name:"Policies"},{type:"non-permits",name:"Non ERC Permits"},{type:"minutes",name:"Minutes"},{type:"erc-permits",name:"ERC Permits"},{type:"security",name:"Security"},{type:"chronicle",name:"Chronicle"},{type:"other",name:"Other"}],e.submit=function(){e.uploader.formData.push(e.newDoc),console.log(e.uploader,e.newDoc)}}angular.module("cwl.core").controller("adminCtrl",e),e.$inject=["$scope","authSrv","documentSrv","FileUploader","$location"]}(),function(){"use strict";function e(e,t,o){t.user()||o.path("/login"),e.user=t.user(),e.selectedDocument=null,e.select=function(t){e.selectedDocument=angular.copy(t)},e.selected=function(t){return t&&e.selectedDocument&&t.name===e.selectedDocument.name},e.filterDocs={},e.user&&(e.documents=[{name:"The Candlewood Chronicle",type:"chronicle",src:"/app/docs/June_2017.pdf"},{name:"Incident Report",type:"security",src:"/app/docs/Incident_Report.pdf"},{name:"Candlewood Lake Board Policies",type:"policies",src:"/app/docs/Policy_Book.pdf"},{name:"Sign Permits",type:"non-permits",src:"/app/docs/sign_permit.pdf"},{name:"June Board Meeting Minutes",type:"minutes",src:"/app/docs/June_2017.pdf"},{name:"July Board Meeting Minutes",type:"minutes",src:"/app/docs/June_2017.pdf"},{name:"Open House Permit",type:"non-permits",src:"/app/docs/open_house_permit.pdf"},{name:"Tree Removal",type:"erc-permits",src:"/app/docs/tree_permit.pdf"},{name:"Tree Cutting Release of Liability",type:"erc-permits",src:"/app/docs/tree_liability.pdf"}])}angular.module("cwl.core").controller("documentsCtrl",e),e.$inject=["$scope","authSrv","$location"]}(),function(){"use strict";function e(e){e.user={isAuthenticated:function(){return!0}}}angular.module("cwl.core").controller("homeCtrl",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,o,n){t.user()&&o.path("/members/documents"),e.tab=n||1,e.showPass=!0,e.showConfirm=!0,e.showFirstName=!0,e.showLastName=!0,e.showEmail=!0,e.user={},e.forgot={},e.login=function(){t.login(e.user).then(function(e){e&&!e.message&&o.path("/members/documents")})},e.register=function(){if(e.error=null,e.user.pwd!==e.user.passwordConfirm)return void(e.error="Passwords do not match.");t.register(e.user).then(function(t){t&&!t.message&&(console.log(t),e.registrationSent=!0)})},e.forgotPassword=function(){t.forgotPassword(e.forgot)}}angular.module("cwl.core").controller("loginCtrl",e),e.$inject=["$scope","authSrv","$location","tab"]}(),function(){"use strict";function e(e,t,o,n){e.login=function(e){o.open({backdrop:!0,templateUrl:"/app/views/loginModal.html",controller:"loginCtrl",animation:!0,size:"md",resolve:{tab:[function(){return e}]}})},e.authSrv=t,e.openAside=function(){n.open({templateUrl:"/app/views/menuAside.html",placement:"right",size:"sm",backdrop:!0,controller:["$scope","$uibModalInstance",function(e,t){e.close=function(){t.dismiss()},e.go=function(e){t.close(e)}}]}).result.then(function(t){e.login(t)})}}angular.module("cwl.core").controller("navCtrl",e),e.$inject=["$scope","authSrv","$uibModal","$aside"]}();
//# sourceMappingURL=app.min.js.map